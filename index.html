<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CompassGo Luxe</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { margin: 0; padding: 0; background: #050810; color: white; font-family: -apple-system, BlinkMacSystemFont, sans-serif; display: flex; justify-content: center; min-height: 100vh; overflow-x: hidden; }
        .stars-bg { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at center, #1b2735 0%, #090a0f 100%); z-index: -1; }
        .stars-bg::after { content: ""; position: absolute; top: 0; left: 0; width: 200%; height: 200%; background-image: radial-gradient(2px 2px at 20px 30px, #eee, rgba(0,0,0,0)), radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)); background-repeat: repeat; background-size: 250px 250px; animation: starsAnim 35s linear infinite; opacity: 0.5; }
        @keyframes starsAnim { from { transform: translateY(0); } to { transform: translateY(-50%); } }
        
        .container { width: 92%; max-width: 360px; text-align: center; margin: 30px 0; background: rgba(255, 255, 255, 0.03); padding: 25px; border-radius: 32px; backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.1); position: relative; z-index: 10; height: fit-content; transition: opacity 0.4s ease; }
        
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        button, .card { background: rgba(255, 255, 255, 0.06); color: white; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px; transition: all 0.2s ease; -webkit-tap-highlight-color: transparent; outline: none; }
        button { padding: 14px 5px; font-size: 13px; font-weight: 600; cursor: pointer; }
        button.wide { grid-column: span 2; }
        button:active, .card:active { background: rgba(255, 255, 255, 0.12); transform: scale(0.97); }
        
        .card { margin-bottom: 12px; padding: 18px 20px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; animation: fadeIn 0.5s ease forwards; opacity: 0; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .hidden { display: none !important; opacity: 0; }
        #scroll-area, #menu-grid, #food-list { max-height: 65vh; overflow-y: auto; padding-right: 5px; scrollbar-width: none; }
        #scroll-area::-webkit-scrollbar, #menu-grid::-webkit-scrollbar, #food-list::-webkit-scrollbar { display: none; }
        
        h1 { font-size: 26px; margin-bottom: 10px; }
        h2 { font-size: 22px; margin-bottom: 15px; color: #fff; font-weight: 700; }
        p { opacity: 0.5; font-size: 14px; margin-bottom: 25px; }

        .food-card { background: rgba(255, 255, 255, 0.08); border-radius: 24px; overflow: hidden; margin-bottom: 20px; text-align: left; border: 1px solid rgba(255, 255, 255, 0.1); }
        .food-img { width: 100%; height: 160px; object-fit: cover; }
        .food-info { padding: 15px; }
        .food-title { font-size: 18px; font-weight: 700; margin-bottom: 5px; display: block; }
        .food-desc { font-size: 13px; opacity: 0.7; margin-bottom: 10px; line-height: 1.4; }
        .food-meta { font-size: 12px; opacity: 0.5; display: flex; align-items: center; gap: 5px; margin-bottom: 12px; }
        .map-btn { width: 100%; background: #2481cc; border: none; padding: 12px; border-radius: 14px; font-size: 13px; color: white; font-weight: 600; cursor: pointer; }
    </style>
</head>
<body>
    <div class="stars-bg"></div>

    <div id="screen-langs" class="container">
        <h1>Welcome! üåç</h1>
        <p>Choose your language</p>
        <div class="grid">
            <button onclick="changeTo('ru')">–†—É—Å—Å–∫–∏–π üá∑üá∫</button>
            <button onclick="changeTo('en')">English üá∫üá∏</button>
            <button onclick="changeTo('tr')">T√ºrk√ße üáπüá∑</button>
            <button onclick="changeTo('pl')">Polski üáµüá±</button>
            <button onclick="changeTo('fr')">Fran√ßais üá´üá∑</button>
            <button onclick="changeTo('es')">Espa√±ol üá™üá∏</button>
            <button onclick="changeTo('it')">Italiano üáÆüáπ</button>
            <button onclick="changeTo('de')">Deutsch üá©üá™</button>
            <button class="wide" onclick="changeTo('cn')">‰∏≠Êñá üá®üá≥</button>
        </div>
    </div>

    <div id="screen-countries" class="container hidden">
        <h2 id="title-countries">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É üìç</h2>
        <div id="scroll-area"></div>
    </div>

    <div id="screen-inside" class="container hidden">
        <h2 id="current-country-name">Country</h2>
        <div id="menu-grid" class="grid"></div>
    </div>

    <div id="screen-subcat" class="container hidden">
        <h2 id="subcat-title">–í—ã–±–æ—Ä</h2>
        <div id="subcat-grid" class="grid"></div>
    </div>

    <div id="screen-food-list" class="container hidden">
        <h2 id="food-list-title">–ó–∞–≤–µ–¥–µ–Ω–∏—è</h2>
        <div id="food-list"></div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        const backButton = tg.BackButton;
        const mainButton = tg.MainButton;
        const secondaryButton = tg.SecondaryButton;
        
        tg.expand();
        tg.ready();
        tg.setHeaderColor('#050810');

        let currentLang = 'ru';
        let selectedCountryIdx = -1;
        let currentView = 'screen-langs';
        const SUPPORT_LINK = "https://t.me/compassgo_support";

        // –ë–ê–ó–ê –î–ê–ù–ù–´–•: 33 –†–ï–°–¢–û–†–ê–ù–ê
        const foodData = {
            "cyprus_north": {
                "meat": [
                    { name: "Niazi's Restaurant", desc: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π Full Kebab –∏ –ª—É—á—à–∏–π –º–µ–∑–µ –≤ –ö–∏—Ä–µ–Ω–∏–∏.", time: "12:00-23:00", img: "https://images.unsplash.com/photo-1544148103-0773bf10d330?w=400", map: "https://www.google.com/maps/search/Niazi's+Kyrenia" },
                    { name: "Aspava Famagusta", desc: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ç—É—Ä–µ—Ü–∫–∞—è –∫—É—Ö–Ω—è –∏ —Å–æ—á–Ω–æ–µ –º—è—Å–æ.", time: "11:00-22:00", img: "https://images.unsplash.com/photo-1529193591184-b1d58069ecdd?w=400", map: "https://www.google.com/maps/search/Aspava+Famagusta" },
                    { name: "K√∂m√ºr Steak & Ocakba≈üƒ±", desc: "–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ —Å—Ç–µ–π–∫–∏ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –≥—Ä–∏–ª—å.", time: "18:00-00:00", img: "https://images.unsplash.com/photo-1558030006-45c675171f23?w=400", map: "https://www.google.com/maps/search/K√∂m√ºr+Steak+Kyrenia" },
                    { name: "Hamur Restaurant", desc: "–î–æ–º–∞—à–Ω–∏–π —É—é—Ç –∏ –ª—É—á—à–∏–µ –º–∞–Ω—Ç—ã –≤ –ù–∏–∫–æ—Å–∏–∏.", time: "09:00-22:00", img: "https://images.unsplash.com/photo-1603360946369-dc9bb6258143?w=400", map: "https://www.google.com/maps/search/Hamur+Restaurant+Nicosia" },
                    { name: "Sancak Restaurant", desc: "–ú—è—Å–Ω—ã–µ –¥–µ–ª–∏–∫–∞—Ç–µ—Å—ã —Å –≤–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–º –≤–∏–¥–æ–º.", time: "10:00-23:00", img: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=400", map: "https://www.google.com/maps/search/Sancak+Restaurant+Lapta" },
                    { name: "Grill House", desc: "–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –∫–µ–±–∞–± –∏ —Ç–µ–ø–ª–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞.", time: "12:00-23:00", img: "https://images.unsplash.com/photo-1561651823-34feb02250e4?w=400", map: "https://www.google.com/maps/search/Grill+House+Kyrenia" }
                ],
                "fish": [
                    { name: "Silver Rocks", desc: "–†—ã–±–Ω—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω –ø—Ä—è–º–æ –Ω–∞ –±–µ—Ä–µ–≥—É –º–æ—Ä—è.", time: "11:00-23:30", img: "https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?w=400", map: "https://www.google.com/maps/search/Silver+Rocks+Lapta" },
                    { name: "Grida Fish Restaurant", desc: "–ò–∑—ã—Å–∫–∞–Ω–Ω—ã–µ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –∏ —Å–≤–µ–∂–∏–π —É–ª–æ–≤.", time: "12:00-23:00", img: "https://images.unsplash.com/photo-1498654077810-12c21d4d6dc3?w=400", map: "https://www.google.com/maps/search/Grida+Fish+Iskele" },
                    { name: "Laguna Fish", desc: "–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –º–µ—Å—Ç–æ —Å—Ä–µ–¥–∏ –º–µ—Å—Ç–Ω—ã—Ö –≤ –§–∞–º–∞–≥—É—Å—Ç–µ.", time: "12:00-22:00", img: "https://images.unsplash.com/photo-1551731359-24fc4e73801a?w=400", map: "https://www.google.com/maps/search/Laguna+Fish+Famagusta" },
                    { name: "Missina", desc: "–°–≤–µ–∂–∞—è —Ä—ã–±–∞ –∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –≤ –ì–∏—Ä–Ω–µ.", time: "12:00-23:00", img: "https://images.unsplash.com/photo-1559742811-822873691df0?w=400", map: "https://www.google.com/maps/search/Missina+Kyrenia" },
                    { name: "Hurma Restaurant", desc: "–ê—É—Ç–µ–Ω—Ç–∏—á–Ω—ã–π –≤–∫—É—Å –º–æ—Ä—è –≤ –ï—à–∏–ª—ã—Ä–º–∞–∫.", time: "09:00-21:00", img: "https://images.unsplash.com/photo-1473093226795-af9932fe5856?w=400", map: "https://www.google.com/maps/search/Hurma+Restaurant+Yesilyirmak" },
                    { name: "Swan of Soli", desc: "–†—ã–±–Ω–∞—è –∫–ª–∞—Å—Å–∏–∫–∞ —Å –≤–∏–¥–æ–º –Ω–∞ –∑–∞–ª–∏–≤.", time: "10:00-22:00", img: "https://images.unsplash.com/photo-1534080564607-ca40df1db293?w=400", map: "https://www.google.com/maps/search/Swan+of+Soli+Lefke" }
                ],
                "sea": [
                    { name: "Azure Bay", desc: "–ú–æ–¥–Ω—ã–µ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã –∏ –∫–æ–∫—Ç–µ–π–ª–∏.", time: "10:00-23:00", img: "https://images.unsplash.com/photo-1534604973900-c41ab4c5d4b0?w=400", map: "https://www.google.com/maps/search/Azure+Bay+Lapta" },
                    { name: "Ocean Basket", desc: "–õ—é–±–∏–º–∞—è —Å–µ—Ç—å —Å –æ—Ç–ª–∏—á–Ω—ã–º –ø–ª–∞—Ç–æ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤.", time: "12:00-22:30", img: "https://images.unsplash.com/photo-1563127831-404ad9fd3bb6?w=400", map: "https://www.google.com/maps/search/Ocean+Basket+Nicosia" },
                    { name: "Kervansaray Fish", desc: "–ö—Ä–µ–≤–µ—Ç–∫–∏ –∏ –∫–∞–ª—å–º–∞—Ä—ã –≤ –ª—É—á—à–µ–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏.", time: "12:00-23:00", img: "https://images.unsplash.com/photo-1559742811-822873691df0?w=400", map: "https://www.google.com/maps/search/Kervansaray+Fish+Kyrenia" },
                    { name: "Corner Fish", desc: "–£—é—Ç–Ω—ã–π —É–≥–æ–ª–æ–∫ —Å –¥–∞—Ä–∞–º–∏ –º–æ—Ä—è –≤ —Ü–µ–Ω—Ç—Ä–µ.", time: "12:00-22:00", img: "https://images.unsplash.com/photo-1574484284002-952d92456975?w=400", map: "https://www.google.com/maps/search/Corner+Fish+Girne" },
                    { name: "G√∂kku≈üaƒüƒ±", desc: "–†–∞–¥—É–∂–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏.", time: "11:00-23:00", img: "https://images.unsplash.com/photo-1514327605112-b887c0e61c0a?w=400", map: "https://www.google.com/maps/search/Gokkusagi+Restoran+Lapta" },
                    { name: "Trio Marina", desc: "–ü—Ä–µ–º–∏–∞–ª—å–Ω–æ–µ –º–µ–Ω—é —É —è—Ö—Ç–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏—á–∞–ª–∞.", time: "09:00-00:00", img: "https://images.unsplash.com/photo-1551183053-bf91a1d81141?w=400", map: "https://www.google.com/maps/search/Trio+Kyrenia+Marina" }
                ],
                "euro": [
                    { name: "The House", desc: "–ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫–ª–∞—Å—Å–∏–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞.", time: "09:00-00:00", img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400", map: "https://www.google.com/maps/search/The+House+Kyrenia" },
                    { name: "Bellapais Gardens", desc: "–í—ã—Å–æ–∫–∞—è –∫—É—Ö–Ω—è –≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–º –ê–±–±–∞—Ç—Å—Ç–≤–µ.", time: "12:00-22:00", img: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400", map: "https://www.google.com/maps/search/Bellapais+Gardens+Restaurant" },
                    { name: "No.14", desc: "–ú–æ–¥–µ—Ä–Ω –∏ –∞–≤—Ç–æ—Ä—Å–∫–æ–µ –º–µ–Ω—é.", time: "18:00-23:00", img: "https://images.unsplash.com/photo-1559339352-11d035aa65de?w=400", map: "https://www.google.com/maps/search/No.14+Kyrenia" },
                    { name: "Kybele", desc: "–†–æ—Å–∫–æ—à–Ω—ã–π —É–∂–∏–Ω –≤ —Å–∞–º–æ–º —Å–µ—Ä–¥—Ü–µ –∏—Å—Ç–æ—Ä–∏–∏.", time: "10:00-00:00", img: "https://images.unsplash.com/photo-1550966841-3eeec37b6703?w=400", map: "https://www.google.com/maps/search/Kybele+Bellapais" },
                    { name: "Gillham Vineyard", desc: "–í–∏–Ω–æ–¥–µ–ª—å–Ω—è –∏ –≥–∞—Å—Ç—Ä–æ–Ω–æ–º–∏—è –≤ –≥–æ—Ä–∞—Ö.", time: "12:00-21:00", img: "https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400", map: "https://www.google.com/maps/search/Gillham+Vineyard+Hotel" },
                    { name: "Veni Vici", desc: "–ù–∞—Å—Ç–æ—è—â–∞—è –∏—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –ø–∏—Ü—Ü–∞ –∏ –ø–∞—Å—Ç–∞.", time: "12:00-23:00", img: "https://images.unsplash.com/photo-1546549032-9571cd6b27df?w=400", map: "https://www.google.com/maps/search/Veni+Vici+Lapta" }
                ],
                "fast": [
                    { name: "Ezi√ß Peanuts", desc: "–°–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ñ–∞—Å—Ç—Ñ—É–¥ –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ.", time: "09:00-00:00", img: "https://images.unsplash.com/photo-1561758033-d89a9ad46330?w=400", map: "https://www.google.com/maps/search/Ezic+Peanuts+Kyrenia" },
                    { name: "Burger City", desc: "–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±—É—Ä–≥–µ—Ä—ã –±—ã—Å—Ç—Ä–æ –∏ –≤–∫—É—Å–Ω–æ.", time: "10:00-23:00", img: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400", map: "https://www.google.com/maps/search/Burger+City+Nicosia" },
                    { name: "Gloria Jean's", desc: "–õ—É—á—à–∏–π –∫–æ—Ñ–µ –∏ –¥–µ—Å–µ—Ä—Ç—ã.", time: "08:00-23:00", img: "https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=400", map: "https://www.google.com/maps/search/Gloria+Jeans+Kyrenia" },
                    { name: "Mado", desc: "–¢—É—Ä–µ—Ü–∫–æ–µ –º–æ—Ä–æ–∂–µ–Ω–æ–µ –∏ —Å–ª–∞–¥–æ—Å—Ç–∏.", time: "08:00-00:00", img: "https://images.unsplash.com/photo-1501443762994-82bd5dace89a?w=400", map: "https://www.google.com/maps/search/Mado+Kyrenia" },
                    { name: "Pascucci", desc: "–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —Å—Ç–∏–ª—å –≤ –±—ã—Å—Ç—Ä–æ–º –ø–∏—Ç–∞–Ω–∏–∏.", time: "08:00-23:00", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400", map: "https://www.google.com/maps/search/Pascucci+Nicosia" },
                    { name: "Lavash", desc: "–ë—ã—Å—Ç—Ä—ã–π –∫–µ–±–∞–± –∏ —Ç—É—Ä–µ—Ü–∫–∏–π –ª–∞–≤–∞—à.", time: "10:00-22:00", img: "https://images.unsplash.com/photo-1628257019036-7140f7f3295c?w=400", map: "https://www.google.com/maps/search/Lavash+Kyrenia" },
                    { name: "Shakespeare Coffee", desc: "–ó–∞–≤—Ç—Ä–∞–∫–∏ –∏ –±—ã—Å—Ç—Ä—ã–µ –∑–∞–∫—É—Å–∫–∏.", time: "08:30-00:00", img: "https://images.unsplash.com/photo-1445116572660-236099ec97a0?w=400", map: "https://www.google.com/maps/search/Shakespeare+Coffee+Kyrenia" },
                    { name: "Sushico", desc: "–°—É—à–∏ –∏ –ø–∞–Ω–∞–∑–∏–∞—Ç—Å–∫–∞—è –∫—É—Ö–Ω—è –Ω–∞–≤—ã–Ω–æ—Å.", time: "12:00-23:00", img: "https://images.unsplash.com/photo-1579871494447-9811cf80d66c?w=400", map: "https://www.google.com/maps/search/Sushico+Girne" },
                    { name: "Simit Sarayƒ±", desc: "–ó–Ω–∞–º–µ–Ω–∏—Ç—ã–µ —Å–∏–º–∏—Ç—ã –∏ —á–∞–π.", time: "07:00-22:00", img: "https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400", map: "https://www.google.com/maps/search/Simit+Sarayi+Lefkosa" }
                ]
            }
        };

        const countriesList = {
            ru: ["–§—Ä–∞–Ω—Ü–∏—è üá´üá∑", "–†–æ—Å—Å–∏—è üá∑üá∫", "–¢—É—Ä—Ü–∏—è üáπüá∑", "–ò—Å–ø–∞–Ω–∏—è üá™üá∏", "–ò—Ç–∞–ª–∏—è üáÆüáπ", "–ì–µ—Ä–º–∞–Ω–∏—è üá©üá™", "–ò–Ω–¥–æ–Ω–µ–∑–∏—è (–ë–∞–ª–∏) üáÆüá©", "–¢–∞–∏–ª–∞–Ω–¥ üáπüá≠", "–ö–∏—Ç–∞–π üá®üá≥", "–Ø–ø–æ–Ω–∏—è üáØüáµ", "–®—Ä–∏-–õ–∞–Ω–∫–∞ üá±üá∞", "–ö–∞—Ç–∞—Ä üá∂üá¶", "–ï–≥–∏–ø–µ—Ç üá™üá¨", "–ú–µ–∫—Å–∏–∫–∞ üá≤üáΩ", "–î–æ–º–∏–Ω–∏–∫–∞–Ω–∞ üá©üá¥", "–°–®–ê üá∫üá∏", "–ì—Ä—É–∑–∏—è üá¨üá™", "–ê—Ä–º–µ–Ω–∏—è üá¶üá≤", "–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω üá∞üáø", "–ü–æ—Ä—Ç—É–≥–∞–ª–∏—è üáµüáπ", "–°–µ–≤–µ—Ä–Ω—ã–π –ö–∏–ø—Ä üáπüá∑", "–Æ–∂–Ω—ã–π –ö–∏–ø—Ä üá®üáæ", "–û–ê–≠ üá¶üá™", "–ß–µ—Ä–Ω–æ–≥–æ—Ä–∏—è üá≤üá™", "–ì—Ä–µ—Ü–∏—è üá¨üá∑", "–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è üá¨üáß", "–ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω üá¶üáø"],
            en: ["France üá´üá∑", "Russia üá∑üá∫", "Turkey üáπüá∑", "Spain üá™üá∏", "Italy üáÆüáπ", "Germany üá©üá™", "Indonesia (Bali) üáÆüá©", "Thailand üáπüá≠", "China üá®üá≥", "Japan üáØüáµ", "Sri Lanka üá±üá∞", "Qatar üá∂üá¶", "Egypt üá™üá¨", "Mexico üá≤üáΩ", "Dominican Republic üá©üá¥", "USA üá∫üá∏", "Georgia üá¨üá™", "Armenia üá¶üá≤", "Kazakhstan üá∞üáø", "Portugal üáµüáπ", "Northern Cyprus üáπüá∑", "Southern Cyprus üá®üáæ", "UAE üá¶üá™", "Montenegro üá≤üá™", "Greece üá¨üá∑", "United Kingdom üá¨üáß", "Azerbaijan üá¶üáø"],
            tr: ["Fransa üá´üá∑", "Rusya üá∑üá∫", "T√ºrkiye üáπüá∑", "ƒ∞spanya üá™üá∏", "ƒ∞talya üáÆüáπ", "Almanya üá©üá™", "Endonezya (Bali) üáÆüá©", "Tayland üáπüá≠", "√áin üá®üá≥", "Japonya üáØüáµ", "Sri Lanka üá±üá∞", "Katar üá∂üá¶", "Mƒ±sƒ±r üá™üá¨", "Meksika üá≤üáΩ", "Dominik Cumhuriyeti üá©üá¥", "ABD üá∫üá∏", "G√ºrcistan üá¨üá™", "Ermenistan üá¶üá≤", "Kazakistan üá∞üáø", "Portekiz üáµüáπ", "Kuzey Kƒ±brƒ±s üáπüá∑", "G√ºney Kƒ±brƒ±s üá®üáæ", "BAE üá¶üá™", "Karadaƒü üá≤üá™", "Yunanistan üá¨üá∑", "Birle≈üik Krallƒ±k üá¨üáß", "Azerbaycan üá¶üáø"],
            pl: ["Francja üá´üá∑", "Rosja üá∑üá∫", "Turcja üáπüá∑", "Hiszpania üá™üá∏", "W≈Çochy üáÆüáπ", "Niemcy üá©üá™", "Indonezja (Bali) üáÆüá©", "Tajlandia üáπüá≠", "Chiny üá®üá≥", "Japonia üáØüáµ", "Sri Lanka üá±üá∞", "Katar üá∂üá¶", "Egipt üá™üá¨", "Meksyk üá≤üáΩ", "Dominikana üá©üá¥", "USA üá∫üá∏", "Gruzja üá¨üá™", "Armenia üá¶üá≤", "Kazakhstan üá∞üáø", "Portugalia üáµüáπ", "Cypr P√≥≈Çnocny üáπüá∑", "Cypr Po≈Çudniowy üá®üáæ", "ZEA üá¶üá™", "Czarnog√≥ra üá≤üá™", "Grecja üá¨üá∑", "Wielka Brytania üá¨üáß", "Azerbejd≈ºan üá¶üáø"],
            fr: ["France üá´üá∑", "Russie üá∑üá∫", "Turquie üáπüá∑", "Espagne üá™üá∏", "Italie üáÆüáπ", "Allemagne üá©üá™", "Indon√©sie (Bali) üáÆüá©", "Tha√Ølande üáπüá≠", "Chine üá®üá≥", "Japon üáØüáµ", "Sri Lanka üá±üá∞", "Qatar üá∂üá¶", "√âgypte üá™üá¨", "Mexique üá≤üáΩ", "R√©publique Dominicaine üá©üá¥", "√âtats-Unis üá∫üá∏", "G√©orgie üá¨üá™", "Arm√©nie üá¶üá≤", "Kazakhstan üá∞üáø", "Portugal üáµüáπ", "Chypre du Nord üáπüá∑", "Chypre du Sud üá®üáæ", "√âAU üá¶üá™", "Mont√©n√©gro üá≤üá™", "Gr√®ce üá¨üá∑", "Royaume-Uni üá¨üáß", "Azerba√Ødjan üá¶üáø"],
            es: ["Francia üá´üá∑", "Rusia üá∑üá∫", "Turqu√≠a üáπüá∑", "Espa√±a üá™üá∏", "Italia üáÆüáπ", "Alemania üá©üá™", "Indonesia (Bali) üáÆüá©", "Tailandia üáπüá≠", "China üá®üá≥", "Jap√≥n üáØüáµ", "Sri Lanka üá±üá∞", "Catar üá∂üá¶", "Egipto üá™üá¨", "M√©xico üá≤üáΩ", "Rep√∫blica Dominicana üá©üá¥", "EE. UU. üá∫üá∏", "Georgia üá¨üá™", "Armenia üá¶üá≤", "Kazajist√°n üá∞üáø", "Portugal üáµüáπ", "Chipre del Norte üáπüá∑", "Chipre del Sur üá®üáæ", "EAU üá¶üá™", "Montenegro üá≤üá™", "Grecia üá¨üá∑", "Reino Unido üá¨üáß", "Azerbaiy√°n üá¶üáø"],
            it: ["Francia üá´üá∑", "Russia üá∑üá∫", "Turchia üáπüá∑", "Spagna üá™üá∏", "Italia üáÆüáπ", "Germania üá©üá™", "Indonesia (Bali) üáÆüá©", "Thailandia üáπüá≠", "Cina üá®üá≥", "Giappone üáØüáµ", "Sri Lanka üá±üá∞", "Qatar üá∂üá¶", "Egitto üá™üá¨", "Messico üá≤üáΩ", "Repubblica Dominicana üá©üá¥", "USA üá∫üá∏", "Georgia üá¨üá™", "Armenia üá¶üá≤", "Kazakhstan üá∞üáø", "Portogallo üáµüáπ", "Cipro del Nord üáπüá∑", "Cipro del Sud üá®üáæ", "EAU üá¶üá™", "Montenegro üá≤üá™", "Grecia üá¨üá∑", "Regno Unito üá¨üáß", "Azerbaigian üá¶üáø"],
            de: ["Frankreich üá´üá∑", "Russland üá∑üá∫", "T√ºrkei üáπüá∑", "Spanien üá™üá∏", "Italien üáÆüáπ", "Deutschland üá©üá™", "Indonesien (Bali) üáÆüá©", "Thailand üáπüá≠", "China üá®üá≥", "Japan üáØüáµ", "Sri Lanka üá±üá∞", "Katar üá∂üá¶", "√Ñgypten üá™üá¨", "Mexiko üá≤üáΩ", "Dominikanische Republik üá©üá¥", "USA üá∫üá∏", "Georgien üá¨üá™", "Armenien üá¶üá≤", "Kasachstan üá∞üáø", "Portugal üáµüáπ", "Nordzypern üáπüá∑", "S√ºdzypern üá®üáæ", "VAE üá¶üá™", "Montenegro üá≤üá™", "Griechenland üá¨üá∑", "Vereinigtes K√∂nigreich üá¨üáß", "Aserbaidschan üá¶üáø"],
            cn: ["Ê≥ïÂõΩ üá´üá∑", "‰øÑÁΩóÊñØ üá∑üá∫", "ÂúüËÄ≥ÂÖ∂ üáπüá∑", "Ë•øÁè≠Áâô üá™üá∏", "ÊÑèÂ§ßÂà© üáÆüáπ", "Âæ∑ÂõΩ üá©üá™", "Âç∞Â∫¶Â∞ºË•ø‰∫ö (Â∑¥ÂéòÂ≤õ) üáÆüá©", "Ê≥∞ÂõΩ üáπüá≠", "‰∏≠ÂõΩ üá®üá≥", "Êó•Êú¨ üáØüáµ", "ÊñØÈáåÂÖ∞Âç° üá±üá∞", "Âç°Â°îÂ∞î üá∂üá¶", "ÂüÉÂèä üá™üá¨", "Â¢®Ë•øÂì• üá≤üáΩ", "Â§öÁ±≥Â∞ºÂä† üá©üá¥", "ÁæéÂõΩ üá∫üá∏", "Ê†ºÈ≤ÅÂêâ‰∫ö üá¨üá™", "‰∫öÁæéÂ∞º‰∫ö üá¶üá≤", "ÂìàËê®ÂÖãÊñØÂù¶ üá∞üáø", "Ëë°ËêÑÁâô üáµüáπ", "ÂåóÂ°ûÊµ¶Ë∑ØÊñØ üáπüá∑", "ÂçóÂ°ûÊµ¶Ë∑ØÊñØ üá®üáæ", "ÈòøËÅîÈÖã üá¶üá™", "ÈªëÂ±± üá≤üá™", "Â∏åËÖä üá¨üá∑", "Ëã±ÂõΩ üá¨üáß", "ÈòøÂ°ûÊãúÁñÜ üá¶üáø"]
        };

        const dict = {
            ru: { t: "–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É üìç", join: "–ù–∞–ø–∏—Å–∞—Ç—å", cancel: "–û—Ç–º–µ–Ω–∞", cat: ["–ü—Ä–∞–≤–∏–ª–∞", "–†–∞–±–æ—Ç–∞", "–ï–¥–∞", "–£—Å–ª—É–≥–∏", "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å", "–†–µ–∫–ª–∞–º–∞", "–ù–æ–≤–æ—Å—Ç–∏", "–î–æ–∫—É–º–µ–Ω—Ç—ã"], chat: "–ß–ê–¢ –°–û–û–ë–©–ï–°–¢–í–ê", support: "–ü–û–î–î–ï–†–ñ–ö–ê", kitchens: {meat:"–ú—è—Å–æ", fish:"–†—ã–±–∞", sea:"–ú–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã", euro:"–ï–≤—Ä–æ–ø–∞", fast:"–§–∞—Å—Ç—Ñ—É–¥"} },
            en: { t: "Select Country üìç", join: "Contact", cancel: "Cancel", cat: ["Rules", "Jobs", "Food", "Services", "Property", "Ads", "News", "Documents"], chat: "COMMUNITY CHAT", support: "SUPPORT", kitchens: {meat:"Meat", fish:"Fish", sea:"Seafood", euro:"Europe", fast:"Fastfood"} },
            tr: { t: "√úlke Se√ßin üìç", join: "ƒ∞leti≈üim", cancel: "ƒ∞ptal", cat: ["Kurallar", "ƒ∞≈ü", "Yemek", "Hizmetler", "Emlak", "Reklam", "Haberler", "Belgeler"], chat: "TOPLULUK SOHBETI", support: "DESTEK", kitchens: {meat:"Et", fish:"Balƒ±k", sea:"Deniz √úr√ºnleri", euro:"Avrupa", fast:"Fastfood"} },
            pl: { t: "Wybierz kraj üìç", join: "Kontakt", cancel: "Anuluj", cat: ["Zasady", "Praca", "Jedzenie", "Us≈Çugi", "Nieruchomo≈õci", "Reklama", "Wiadomo≈õci", "Dokumenty"], chat: "CZAT SPO≈ÅECZNO≈öCI", support: "WSPARCIE", kitchens: {meat:"Miƒôso", fish:"Ryba", sea:"Owoce morza", euro:"Europa", fast:"Fastfood"} },
            fr: { t: "Choisir un pays üìç", join: "Contact", cancel: "Annuler", cat: ["R√®gles", "Travail", "Nourriture", "Services", "Immobilier", "Publicit√©", "Nouvelles", "Documents"], chat: "CHAT COMMUNAUTAIRE", support: "SUPPORT", kitchens: {meat:"Viande", fish:"Poisson", sea:"Fruits de mer", euro:"Europe", fast:"Fastfood"} },
            es: { t: "Seleccionar pa√≠s üìç", join: "Contacto", cancel: "Cancelar", cat: ["Reglas", "Trabajo", "Comida", "Servicios", "Inmuebles", "Anuncios", "Noticias", "Documentos"], chat: "CHAT DE LA COMUNIDAD", support: "SOPORTE", kitchens: {meat:"Carne", fish:"Pescado", sea:"Mariscos", euro:"Europa", fast:"Comida r√°pida"} },
            it: { t: "Scegli il paese üìç", join: "Contatto", cancel: "Annulla", cat: ["Regole", "Lavoro", "Cibo", "Servizi", "Immobili", "Pubblicit√†", "Notizie", "Document–∏"], chat: "CHAT DELLA COMMUNITY", support: "SUPPORTO", kitchens: {meat:"Carne", fish:"Pesce", sea:"Frutti di mare", euro:"Europa", fast:"Fastfood"} },
            de: { t: "Land w√§hlen üìç", join: "Kontakt", cancel: "Abbrechen", cat: ["Regeln", "Arbeit", "Essen", "Dienstleistungen", "Immobilien", "Werbung", "Nachrichten", "Dokumente"], chat: "COMMUNITY-CHAT", support: "SUPPORT", kitchens: {meat:"Fleisch", fish:"Fisch", sea:"Meeresfr√ºchte", euro:"Europa", fast:"Fastfood"} },
            cn: { t: "ÈÄâÊã©ÂõΩÂÆ∂ üìç", join: "ËÅîÁ≥ª", cancel: "ÂèñÊ∂à", cat: ["ËßÑÂàô", "Â∑•‰Ωú", "ÁæéÈ£ü", "ÊúçÂä°", "Êàø‰∫ß", "ÂπøÂëä", "Êñ∞Èóª", "Êñá‰ª∂"], chat: "Á§æÂå∫ËÅäÂ§©", support: "ÊîØÊåÅ", kitchens: {meat:"ËÇâ", fish:"È±º", sea:"Êµ∑È≤ú", euro:"Ê¨ßÊ¥≤", fast:"Âø´È§ê"} }
        };

        function showScreen(id) {
            document.querySelectorAll('.container').forEach(s => s.classList.add('hidden'));
            const target = document.getElementById(id);
            target.classList.remove('hidden');
            currentView = id;
            setTimeout(() => target.style.opacity = "1", 50);
            if (id === 'screen-langs') {
                backButton.hide(); mainButton.hide(); secondaryButton.hide();
            } else {
                backButton.show(); mainButton.show(); secondaryButton.show();
            }
        }

        backButton.onClick(() => {
            if (currentView === 'screen-food-list') showScreen('screen-subcat');
            else if (currentView === 'screen-subcat') showScreen('screen-inside');
            else if (currentView === 'screen-inside') showScreen('screen-countries');
            else if (currentView === 'screen-countries') showScreen('screen-langs');
        });

        function changeTo(lang) {
            tg.HapticFeedback.impactOccurred('light');
            currentLang = lang;
            const data = dict[lang];
            mainButton.setParams({ text: data.chat, is_visible: true, color: '#2481cc' });
            secondaryButton.setParams({ text: data.support, is_visible: true, color: '#1c1c1e' });
            document.getElementById('title-countries').innerText = data.t;
            const list = document.getElementById('scroll-area');
            list.innerHTML = '';
            const countries = countriesList[lang];
            countries.forEach((name, idx) => {
                const div = document.createElement('div');
                div.className = 'card';
                div.innerHTML = `<span>${name}</span> <span style="opacity:0.3">‚û°Ô∏è</span>`;
                div.onclick = () => openCountry(name, idx);
                list.appendChild(div);
            });
            showScreen('screen-countries');
        }

        function openCountry(displayName, index) {
            tg.HapticFeedback.selectionChanged();
            selectedCountryIdx = index;
            const data = dict[currentLang];
            document.getElementById('current-country-name').innerText = displayName;
            const grid = document.getElementById('menu-grid');
            grid.innerHTML = '';
            const icons = ["üìú", "üíº", "üç¥", "üõ†", "üè†", "üì¢", "üì∞", "üìÑ"];
            data.cat.forEach((catName, index) => {
                const btn = document.createElement('button');
                btn.className = "wide";
                btn.style.display = "flex"; btn.style.justifyContent = "center"; btn.style.alignItems = "center"; btn.style.gap = "10px";
                btn.innerHTML = `<span>${icons[index]}</span> <span>${catName}</span>`;
                btn.onclick = () => {
                    if (index === 2) openFoodCategories();
                    else {
                        tg.showActionSheet({
                            title: catName,
                            buttons: [{text: data.join, id: 'ok'}, {text: data.cancel, type: 'destructive'}]
                        }, (id) => { if(id === 'ok') handleSupportAction(); });
                    }
                };
                grid.appendChild(btn);
            });
            showScreen('screen-inside');
        }

        function openFoodCategories() {
            const data = dict[currentLang];
            document.getElementById('subcat-title').innerText = data.cat[2];
            const grid = document.getElementById('subcat-grid');
            grid.innerHTML = '';
            Object.keys(data.kitchens).forEach(key => {
                const btn = document.createElement('button');
                btn.innerText = data.kitchens[key];
                btn.onclick = () => showFoodList(key, data.kitchens[key]);
                grid.appendChild(btn);
            });
            showScreen('screen-subcat');
        }

        function showFoodList(kitchenKey, kitchenName) {
            document.getElementById('food-list-title').innerText = kitchenName;
            const container = document.getElementById('food-list');
            container.innerHTML = '';
            
            // –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –õ–û–ì–ò–ö–ê: –í—Å–µ–≥–¥–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ–º –°–µ–≤–µ—Ä–Ω—ã–π –ö–∏–ø—Ä –ø–æ –∏–Ω–¥–µ–∫—Å—É 20
            const countryKey = (selectedCountryIdx === 20) ? "cyprus_north" : "";
            
            const items = (foodData[countryKey] && foodData[countryKey][kitchenKey]) || [];
            if (items.length === 0) {
                container.innerHTML = '<p style="margin-top:20px; opacity:0.5;">–°–∫–æ—Ä–æ –¥–æ–±–∞–≤–∏–º / Coming soon...</p>';
            } else {
                items.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'food-card';
                    card.innerHTML = `
                        <img src="${item.img}" class="food-img">
                        <div class="food-info">
                            <span class="food-title">${item.name}</span>
                            <div class="food-meta">üïí ${item.time}</div>
                            <p class="food-desc">${item.desc}</p>
                            <button class="map-btn" onclick="tg.openLink('${item.map}')">üìç Google Maps</button>
                        </div>
                    `;
                    container.appendChild(card);
                });
            }
            showScreen('screen-food-list');
        }

        function handleSupportAction() {
            tg.HapticFeedback.notificationOccurred('success');
            tg.openTelegramLink(SUPPORT_LINK);
        }

        mainButton.onClick(() => handleSupportAction());
        secondaryButton.onClick(() => handleSupportAction());
    </script>
</body>
</html>
